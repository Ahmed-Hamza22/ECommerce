<section>
  <h2>Forgot Password</h2>

@if (step == 1) {
  <form (ngSubmit)="forgotPassSubmit()" [formGroup]="verifyEmail" class="bg-main-light rounded-4 shadow p-4 my-3">
    <div class="my-3">
      <label for="email" class="mb-1">email :</label>
      <input formControlName="email" type="email" id="email" class="form-control">
    </div>
    
    <button [disabled]="verifyEmail.invalid || isLoading" class="btn-main">
      @if (!isLoading){Verify Email}@else{<i class="fas fa-spinner fa-spin"></i>} 
    </button>

  </form>
}


@else if (step == 2) {
  <form (ngSubmit)="sendCodeSubmit()" [formGroup]="verifyCode" class="bg-main-light rounded-4 shadow p-4 my-3">
    <div class="my-3">
      <label for="code" class="mb-1">code :</label>
      <input formControlName="resetCode" type="text" id="code" class="form-control">
    </div>
    
    <button [disabled]="verifyCode.invalid || isLoading" class="btn-main">
      @if (!isLoading){Verify Code}@else{<i class="fas fa-spinner fa-spin"></i>} 
    </button>

  </form>
}



@else if (step == 3) {
  <form (ngSubmit)="resetPasswordSubmit()" [formGroup]="resetPassword" class="bg-main-light rounded-4 shadow p-4 my-3">
    <div class="my-3">
      <label for="email" class="mb-1">email :</label>
      <input readonly formControlName="email" type="email" id="email" class="form-control">
    </div>

    <div class="my-3">
      <label for="password" class="mb-1">new password :</label>
      <input formControlName="newPassword" type="password" id="password" class="form-control">
    </div>
    
    <button [disabled]="resetPassword.invalid || isLoading" class="btn-main">
      @if (!isLoading){Reset Password}@else{<i class="fas fa-spinner fa-spin"></i>} 
    </button>

  </form>
}

</section>