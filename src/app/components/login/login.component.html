<section class="bg-main-light shadow p-2 my-5 rounded-4">
  <div class="p-4">
    <h1 class="h2 text-main">Login :</h1>
    <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">
      
  
  
      <div class="my-2">
        <label for="email">email :</label>
        <input [ngClass]="{
          'is-invalid': loginForm.get('email')?.invalid && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty) }"  formControlName="email" id="email" type="email" class="form-control">
        @if (loginForm.get('email')?.invalid && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)) {
          <div class="mt-1">
            @if (loginForm.get('email')?.getError('required')) {
              <p class="p-2 alert alert-danger">Email is required</p>
            }@else if (loginForm.get('email')?.getError('email')) {
              <p class="p-2 alert alert-danger">Email must be valid</p>
            }
          </div>
        }
      </div>

      
      <div class="my-2">
        <label for="password">password :</label>
        <input [ngClass]="{
          'is-invalid': loginForm.get('password')?.invalid && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty) }"  formControlName="password" id="password" type="password" class="form-control">
        @if (loginForm.get('password')?.invalid && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)) {
          <div class="mt-1">
            @if (loginForm.get('password')?.getError('required')) {
              <p class="p-2 alert alert-danger">Password is required</p>
            }
          </div>
        }
      </div>
      

  
      <div class="d-flex mt-3 align-items-center gap-4">
        
        <button [disabled]="loginForm.invalid || isLoading" type="submit" class="btn-main">
          @if (!isLoading){Login}@else{<i class="fas fa-spinner fa-spin"></i>} 
        </button>

        <a class="link-primary" routerLink="/forgot">Forgot Password?</a>

      </div>
      
      
    </form>
  </div>
  </section>